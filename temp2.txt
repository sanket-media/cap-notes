https://trello.com/c/O1Ng6zmq/3790-live-lead-exclusivity-check-optimization


            


Is category exlcusive

First offer posted
    - is exclusive
    - delayed

Offers in que (sorted as per bid value)
    2nd
        - is exclusive
        - delayed
    3rd
        - is exclusive
        - delayed




------------------  Delayed + Exclusive

https://freesamplesprousa.com/?cid=f6gu2&test=1&exp=QA-FLOW-ComplianceTest


Live - 110920013 - offer with lower bid value was posted


Issues
    - Multiple DelayedDequeue event
    - No entries in the jobs table


--------


Time Window (o2 has higher bid) (both have offers delayed) Catergory Exclusive (offer not)
    o2 first, o1 later
        - 110930349 - unmatched
        - 111073985 - matched (check on sept 6)
    o2 later, o1 first
        - 111077043 - matched (o2 got posted) (check on sept 6)
        - 111080884 - (o2 does not have delayed on) (check on sept 6)


Offer exclusive (category not) (o1 has higher bid)
    - Offers are not exclusive but delayed - 111087407
    - o1 exlcusive o2 not
        - o1 delayed - 111098255 - o1, o2 both posted - check with arihant why both are posted
        - o2 delayed - 111098497 - only o1 posted - check with arihant why delayed event are not persent
        - both delayed
            - o1 first then o2 - 
            - o2 first then o1 - 111097172 - both are posted - check with arihant why both are posted, ideally only o1 shouldn't have been posted
    - o2 exclusive o1 not
        - o1 delayed - 111099676 - only o2 posted
        - o2 delayed - 111101871 - only o1 got posted - check with Arihant why o2 was not posted
        - both delayed
    - both exlcusive
        - o1 delayed
        - o2 delayed
        - both delayed
            - o1 first then o2 - 111088011 - o1 posted, o2 queued
            - o2 first then o1 - 111089557 - o2 posted, o1 not queued - concern


User comes again
    - When delayed is enabled (on both offers)
        - Comes within exlcusivity period
        - Comes after exclusivity period
    - When delayed is not enabled
        - Comes within exlcusivity period
            - First time - 111105753
            - Second time - 111106045
        - Comes after exclusivity period


Bid value
    - Higher bid offer is posted - done


